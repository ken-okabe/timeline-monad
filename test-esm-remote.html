<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
</head>

<body>

  <script type="module">
    import { T } from "https://unpkg.com/timeline-monad/dist/esm/timeline-monad.js";
    import { allThenResetTL } from "https://unpkg.com/timeline-monad/dist/esm/allThenResetTL.js";

    const timelineA = T();
    const timelineB = timelineA.sync(a => a * 2);

    const log = msg => alert(msg);

    //log on every timeline Atomic update
    const timelineAB =
      allThenResetTL([timelineA, timelineB]).sync(log);

    {// set the current values-----
      timelineA.now = 1;
    }

  </script>
</body>

</html>